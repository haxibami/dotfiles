if [[ ! -z "$SSH_CLIENT" ]]; then
  export STARSHIP_CONFIG=~/.config/starship_light.toml
fi

if which zellij >/dev/null 2>&1; then 
  eval "$(zellij setup --generate-auto-start zsh)"
fi

# aliases
alias ls='exa'
alias sued='sudoedit'
alias memsort='ps ax o %mem,command --sort %mem'
alias nvm-init='[[ ! -r /usr/share/nvm/init-nvm.sh ]] || source /usr/share/nvm/init-nvm.sh  > /dev/null 2> /dev/null'

# environment variables
export EDITOR=nvim
export VISUAL=nvim

# history
HISTFILE=$HOME/.zsh_history
HISTSIZE=1000000
SAVEHIST=1000000

# keybind
bindkey -v
bindkey "^[[A" history-substring-search-up; bindkey "^[[B" history-substring-search-down
bindkey '^[[H' beginning-of-line
bindkey '^[[F' end-of-line


# auto-compilation
if [ ~/.zshrc -nt ~/.zshrc.zwc ]; then
   zcompile ~/.zshrc
fi

# plugin manager
eval "$(sheldon source)"

# autocompletion
autoload -Uz compinit
compinit

# select completion
zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'

# prompt
eval "$(starship init zsh)"

# opam configuration
[[ ! -r /home/haxibami/.opam/opam-init/init.zsh ]] || source /home/haxibami/.opam/opam-init/init.zsh  > /dev/null 2> /dev/null
